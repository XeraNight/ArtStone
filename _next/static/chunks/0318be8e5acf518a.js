(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(48425),i=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var s=e.i(25913),n=e.i(75157);let o=(0,s.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(i,{ref:r,className:(0,n.cn)(o(),e),...a}));l.displayName=i.displayName,e.s(["Label",()=>l],10204)},76639,26999,e=>{"use strict";let t,a;var r,i=e.i(43476),s=e.i(71645),n=e.i(81140),o=e.i(20783),l=e.i(10772),d=e.i(69340),u=e.i(26330),c=e.i(65491),p=e.i(74606),f=e.i(96626);function y(e){var t;let a,r=(t=e,(a=s.forwardRef((e,t)=>{let{children:a,...r}=e;if(s.isValidElement(a)){var i;let e,n,l=(i=a,(n=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(n=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let a={...t};for(let r in t){let i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?a[r]=(...e)=>{let t=s(...e);return i(...e),t}:i&&(a[r]=i):"style"===r?a[r]={...i,...s}:"className"===r&&(a[r]=[i,s].filter(Boolean).join(" "))}return{...e,...a}}(r,a.props);return a.type!==s.Fragment&&(d.ref=t?(0,o.composeRefs)(t,l):l),s.cloneElement(a,d)}return s.Children.count(a)>1?s.Children.only(null):null})).displayName=`${t}.SlotClone`,a),n=s.forwardRef((e,t)=>{let{children:a,...n}=e,o=s.Children.toArray(a),l=o.find(g);if(l){let e=l.props.children,a=o.map(t=>t!==l?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(r,{...n,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,i.jsx)(r,{...n,ref:t,children:a})});return n.displayName=`${e}.Slot`,n}e.i(74080);var m=Symbol("radix.slottable");function g(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===m}var v=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=y(`Primitive.${t}`),r=s.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s?a:t,{...n,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),h=e.i(3536),b=e.i(85369),_=e.i(86312),x="Dialog",[w,k]=function(e,t=[]){let a=[],r=()=>{let t=a.map(e=>s.createContext(e));return function(a){let r=a?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return r.scopeName=e,[function(t,r){let n=s.createContext(r),o=a.length;a=[...a,r];let l=t=>{let{scope:a,children:r,...l}=t,d=a?.[e]?.[o]||n,u=s.useMemo(()=>l,Object.values(l));return(0,i.jsx)(d.Provider,{value:u,children:r})};return l.displayName=t+"Provider",[l,function(a,i){let l=i?.[e]?.[o]||n,d=s.useContext(l);if(d)return d;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:r})=>{let i=a(e)[`__scope${r}`];return{...t,...i}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(r,...t)]}(x),[j,C]=w(x),N=e=>{let{__scopeDialog:t,children:a,open:r,defaultOpen:n,onOpenChange:o,modal:u=!0}=e,c=s.useRef(null),p=s.useRef(null),[f,y]=(0,d.useControllableState)({prop:r,defaultProp:n??!1,onChange:o,caller:x});return(0,i.jsx)(j,{scope:t,triggerRef:c,contentRef:p,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:f,onOpenChange:y,onOpenToggle:s.useCallback(()=>y(e=>!e),[y]),modal:u,children:a})};N.displayName=x;var D="DialogTrigger",R=s.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=C(D,a),l=(0,o.useComposedRefs)(t,s.triggerRef);return(0,i.jsx)(v.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":V(s.open),...r,ref:l,onClick:(0,n.composeEventHandlers)(e.onClick,s.onOpenToggle)})});R.displayName=D;var q="DialogPortal",[M,S]=w(q,{forceMount:void 0}),E=e=>{let{__scopeDialog:t,forceMount:a,children:r,container:n}=e,o=C(q,t);return(0,i.jsx)(M,{scope:t,forceMount:a,children:s.Children.map(r,e=>(0,i.jsx)(f.Presence,{present:a||o.open,children:(0,i.jsx)(p.Portal,{asChild:!0,container:n,children:e})}))})};E.displayName=q;var I="DialogOverlay",P=s.forwardRef((e,t)=>{let a=S(I,e.__scopeDialog),{forceMount:r=a.forceMount,...s}=e,n=C(I,e.__scopeDialog);return n.modal?(0,i.jsx)(f.Presence,{present:r||n.open,children:(0,i.jsx)(F,{...s,ref:t})}):null});P.displayName=I;var O=y("DialogOverlay.RemoveScroll"),F=s.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=C(I,a);return(0,i.jsx)(b.RemoveScroll,{as:O,allowPinchZoom:!0,shards:[s.contentRef],children:(0,i.jsx)(v.div,{"data-state":V(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),K="DialogContent",Q=s.forwardRef((e,t)=>{let a=S(K,e.__scopeDialog),{forceMount:r=a.forceMount,...s}=e,n=C(K,e.__scopeDialog);return(0,i.jsx)(f.Presence,{present:r||n.open,children:n.modal?(0,i.jsx)(A,{...s,ref:t}):(0,i.jsx)(L,{...s,ref:t})})});Q.displayName=K;var A=s.forwardRef((e,t)=>{let a=C(K,e.__scopeDialog),r=s.useRef(null),l=(0,o.useComposedRefs)(t,a.contentRef,r);return s.useEffect(()=>{let e=r.current;if(e)return(0,_.hideOthers)(e)},[]),(0,i.jsx)(T,{...e,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,n.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),L=s.forwardRef((e,t)=>{let a=C(K,e.__scopeDialog),r=s.useRef(!1),n=s.useRef(!1);return(0,i.jsx)(T,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||a.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let i=t.target;a.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),T=s.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:l,...d}=e,p=C(K,a),f=s.useRef(null),y=(0,o.useComposedRefs)(t,f);return(0,h.useFocusGuards)(),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,i.jsx)(u.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":V(p.open),...d,ref:y,onDismiss:()=>p.onOpenChange(!1)})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X,{titleId:p.titleId}),(0,i.jsx)(Y,{contentRef:f,descriptionId:p.descriptionId})]})]})}),$="DialogTitle",z=s.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=C($,a);return(0,i.jsx)(v.h2,{id:s.titleId,...r,ref:t})});z.displayName=$;var H="DialogDescription",U=s.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=C(H,a);return(0,i.jsx)(v.p,{id:s.descriptionId,...r,ref:t})});U.displayName=H;var W="DialogClose",B=s.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=C(W,a);return(0,i.jsx)(v.button,{type:"button",...r,ref:t,onClick:(0,n.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})});function V(e){return e?"open":"closed"}B.displayName=W;var Z="DialogTitleWarning",[G,J]=(r={contentName:K,titleName:$,docsSlug:"dialog"},t=s.createContext(r),(a=e=>{let{children:a,...r}=e,n=s.useMemo(()=>r,Object.values(r));return(0,i.jsx)(t.Provider,{value:n,children:a})}).displayName=Z+"Provider",[a,function(e){let a=s.useContext(t);if(a)return a;if(void 0!==r)return r;throw Error(`\`${e}\` must be used within \`${Z}\``)}]),X=({titleId:e})=>{let t=J(Z),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},Y=({contentRef:e,descriptionId:t})=>{let a=J("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return s.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};e.s(["Close",()=>B,"Content",()=>Q,"Description",()=>U,"Overlay",()=>P,"Portal",()=>E,"Root",()=>N,"Title",()=>z,"Trigger",()=>R,"WarningProvider",()=>G,"createDialogScope",()=>k],26999);let ee=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var et=e.i(75157);let ea=s.forwardRef(({className:e,...t},a)=>(0,i.jsx)(P,{ref:a,className:(0,et.cn)("fixed inset-0 z-50 bg-black/90 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ea.displayName=P.displayName;let er=s.forwardRef(({className:e,children:t,...a},r)=>(0,i.jsxs)(E,{children:[(0,i.jsx)(ea,{}),(0,i.jsxs)(Q,{ref:r,className:(0,et.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,i.jsxs)(B,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,i.jsx)(ee,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=Q.displayName;let ei=({className:e,...t})=>(0,i.jsx)("div",{className:(0,et.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ei.displayName="DialogHeader";let es=({className:e,...t})=>(0,i.jsx)("div",{className:(0,et.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});es.displayName="DialogFooter";let en=s.forwardRef(({className:e,...t},a)=>(0,i.jsx)(z,{ref:a,className:(0,et.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));en.displayName=z.displayName;let eo=s.forwardRef(({className:e,...t},a)=>(0,i.jsx)(U,{ref:a,className:(0,et.cn)("text-sm text-muted-foreground",e),...t}));eo.displayName=U.displayName,e.s(["Dialog",()=>N,"DialogContent",()=>er,"DialogDescription",()=>eo,"DialogFooter",()=>es,"DialogHeader",()=>ei,"DialogTitle",()=>en,"DialogTrigger",()=>R],76639)},24687,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(75157);let i=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...a}));i.displayName="Textarea",e.s(["Textarea",()=>i])},72520,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},48256,e=>{"use strict";let t=(0,e.i(75254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},97104,e=>{"use strict";var t=e.i(66027),a=e.i(54616),r=e.i(12598),i=e.i(11795),s=e.i(57951);function n(e){let{user:a}=(0,s.useAuth)();return(0,t.useQuery)({queryKey:["leads",e],queryFn:async()=>{let t=[];console.log("useLeads: fetching leads");let{data:a,error:r}=await i.supabase.from("leads").select("*").order("created_at",{ascending:!1});if(console.log("useLeads: Supabase response",{dbData:a,error:r}),r)throw console.error("useLeads: Error fetching leads",r),r;if(t=a,e?.status&&(t=t.filter(t=>t.status===e.status)),e?.source&&(t=t.filter(t=>t.source_type===e.source)),e?.regionId&&(t=t.filter(t=>t.region_id===e.regionId)),e?.assignedUserId&&(t=t.filter(t=>t.assigned_user_id===e.assignedUserId)),e?.search){let a=e.search.toLowerCase();t=t.filter(e=>e.contact_name?.toLowerCase().includes(a)||e.email?.toLowerCase().includes(a)||e.company_name?.toLowerCase().includes(a))}return t},enabled:!!a})}function o(e){return(0,t.useQuery)({queryKey:["leads",e],queryFn:async()=>{let{data:t,error:a}=await i.supabase.from("leads").select(`
          *,
          region:regions(id, name),
          assigned_user:profiles!leads_assigned_user_id_fkey(id, full_name, email)
        `).eq("id",e).single();if(a)throw a;return t},enabled:!!e})}function l(){let e=(0,r.useQueryClient)(),{user:t}=(0,s.useAuth)();return(0,a.useMutation)({mutationFn:async e=>{let{data:a,error:r}=await i.supabase.from("leads").insert({contact_name:e.contact_name,company_name:e.company_name,email:e.email,phone:e.phone,address:e.address,postal_code:e.postal_code,region_id:e.region_id,status:e.status||"new",source_type:e.source_type||"manual",notes:e.notes,assigned_user_id:e.assigned_user_id||t?.id,created_by:t?.id}).select().single();if(r)throw console.error("Supabase create lead error:",r),r;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["leads"]}),e.invalidateQueries({queryKey:["recent-leads"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})},onError:e=>{console.error("Mutation create lead error:",e)}})}function d(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async({id:e,...t})=>{let{data:a,error:r}=await i.supabase.from("leads").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw console.error("Supabase update lead error:",r),r;return a},onSuccess:t=>{e.invalidateQueries({queryKey:["leads"]}),e.invalidateQueries({queryKey:["leads",t.id]})},onError:e=>{console.error("Mutation update lead error:",e)}})}function u(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let{error:t}=await i.supabase.from("leads").delete().eq("id",e);if(t)throw t},onSuccess:()=>{e.invalidateQueries({queryKey:["leads"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})}function c(){let e=(0,r.useQueryClient)(),{user:t}=(0,s.useAuth)();return(0,a.useMutation)({mutationFn:async({leadId:e,userId:a})=>{let{data:r,error:s}=await i.supabase.from("leads").update({assigned_user_id:a,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;if(await i.supabase.from("activities").insert({entity_type:"lead",entity_id:e,activity_type:"note",title:"Lead priradený",description:`Lead bol priraden\xfd nov\xe9mu obchodn\xedkovi`,created_by:t?.id}),a&&a!==t?.id){let{data:t}=await i.supabase.from("leads").select("contact_name,company_name").eq("id",e).single();await i.supabase.from("notifications").insert({user_id:a,type:"new_lead",title:"Nový lead priradený",message:`Lead ${t?.contact_name||t?.company_name||""} v\xe1m bol priraden\xfd`,entity_type:"lead",entity_id:e})}return r},onSuccess:()=>{e.invalidateQueries({queryKey:["leads"]}),e.invalidateQueries({queryKey:["activities"]})}})}function p(){let e=(0,r.useQueryClient)(),{user:t}=(0,s.useAuth)();return(0,a.useMutation)({mutationFn:async({leadId:e,status:a,note:r})=>{let{data:s,error:n}=await i.supabase.from("leads").update({status:a,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return await i.supabase.from("activities").insert({entity_type:"lead",entity_id:e,activity_type:"status_change",title:"Zmena statusu",description:r||`Status zmenen\xfd na: ${a}`,created_by:t?.id}),s},onSuccess:()=>{e.invalidateQueries({queryKey:["leads"]}),e.invalidateQueries({queryKey:["activities"]})}})}function f(){let e=(0,r.useQueryClient)(),{user:t}=(0,s.useAuth)();return(0,a.useMutation)({mutationFn:async e=>{let{data:a,error:r}=await i.supabase.from("leads").select("*").eq("id",e).single();if(r)throw r;if(!a)throw Error("Lead not found");if(a.converted_to_client_id)throw Error("Tento lead už bol konvertovaný na klienta");if(a.email){let{data:e}=await i.supabase.from("clients").select("id, contact_name").eq("email",a.email).single();if(e)throw Error(`Klient s emailom ${a.email} už existuje`)}let{data:s,error:n}=await i.supabase.from("clients").insert({contact_name:a.contact_name,company_name:a.company_name,email:a.email,phone:a.phone,address:a.address,postal_code:a.postal_code,region_id:a.region_id,assigned_user_id:a.assigned_user_id,notes:a.notes,status:"active",converted_from_lead_id:a.id,created_by:t?.id}).select().single();if(n)throw console.error("Error creating client:",n),n;let{data:o,error:l}=await i.supabase.from("activities").select("*").eq("entity_type","lead").eq("entity_id",e);if(!l&&o&&o.length>0){let e=o.map(e=>({entity_type:"client",entity_id:s.id,activity_type:e.activity_type,title:e.title,description:e.description,created_by:e.created_by,created_at:e.created_at}));await i.supabase.from("activities").insert(e)}let{error:d}=await i.supabase.from("leads").update({converted_to_client_id:s.id,converted_at:new Date().toISOString(),status:"won",updated_at:new Date().toISOString()}).eq("id",e);return d&&console.error("Error updating lead:",d),await i.supabase.from("activities").insert({entity_type:"client",entity_id:s.id,activity_type:"note",title:"Klient vytvorený z leadu",description:`Klient bol \xfaspešne konvertovan\xfd z leadu "${a.contact_name}"`,created_by:t?.id}),{client:s,lead:a,activitiesCopied:o?.length||0}},onSuccess:t=>{e.invalidateQueries({queryKey:["leads"]}),e.invalidateQueries({queryKey:["clients"]}),e.invalidateQueries({queryKey:["activities"]}),e.invalidateQueries({queryKey:["dashboard-stats"]}),e.invalidateQueries({queryKey:["recent-leads"]})},onError:e=>{console.error("Lead conversion error:",e)}})}e.s(["useAssignLead",()=>c,"useConvertLead",()=>f,"useCreateLead",()=>l,"useDeleteLead",()=>u,"useLead",()=>o,"useLeads",()=>n,"useUpdateLead",()=>d,"useUpdateLeadStatus",()=>p])},63488,e=>{"use strict";let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],63488)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],43432)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},51975,e=>{"use strict";let t=(0,e.i(75254).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],51975)},83942,e=>{"use strict";var t=e.i(66027),a=e.i(11795),r=e.i(57951);let i=[{id:"ba",name:"Bratislavský kraj"},{id:"tt",name:"Trnavský kraj"},{id:"tn",name:"Trenčiansky kraj"},{id:"nr",name:"Nitriansky kraj"},{id:"za",name:"Žilinský kraj"},{id:"bb",name:"Banskobystrický kraj"},{id:"po",name:"Prešovský kraj"},{id:"ke",name:"Košický kraj"}];function s(){let{user:e}=(0,r.useAuth)();return(0,t.useQuery)({queryKey:["regions","v2"],queryFn:async()=>{try{let{data:e,error:t}=await a.supabase.from("regions").select("*").order("name");if(t)return console.warn("[useRegions] Error fetching regions, using fallback:",t),i;if(!e||0===e.length)return console.warn("[useRegions] No regions returned (RLS?), using fallback"),i;return e}catch(e){return console.error("[useRegions] Exception:",e),i}},staleTime:3e5,retry:!1})}e.s(["useRegions",()=>s],83942)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},48065,87316,e=>{"use strict";var t=e.i(66027),a=e.i(54616),r=e.i(12598),i=e.i(11795),s=e.i(57951);function n(e){let{user:a}=(0,s.useAuth)();return(0,t.useQuery)({queryKey:["activities",e],queryFn:async()=>{let t=i.supabase.from("activities").select("*").order("created_at",{ascending:!1});e?.entityType&&(t=t.eq("entity_type",e.entityType)),e?.entityId&&(t=t.eq("entity_id",e.entityId)),e?.limit&&(t=t.limit(e.limit));let{data:a,error:r}=await t;if(r)throw r;return a},enabled:!!a})}function o(){let e=(0,r.useQueryClient)(),{user:t}=(0,s.useAuth)();return(0,a.useMutation)({mutationFn:async e=>{let{data:a,error:r}=await i.supabase.from("activities").insert({...e,created_by:t?.id}).select().single();if(r)throw r;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["activities"]}),e.invalidateQueries({queryKey:["recent-activities"]})}})}e.s(["useActivities",()=>n,"useCreateActivity",()=>o],48065);let l=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>l],87316)},99353,e=>{"use strict";let t=(0,e.i(75254).default)("sticky-note",[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]]);e.s(["StickyNote",()=>t],99353)},27516,e=>{"use strict";let t=(0,e.i(75254).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>t],27516)}]);