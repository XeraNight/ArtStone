(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46696,e=>{"use strict";var t=e.i(71645);e.i(74080);let a=Array(12).fill(0),r=1,s=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:a,...s}=e,i="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:r++,n=this.toasts.find(e=>e.id===i),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),n?this.toasts=this.toasts.map(t=>t.id===i?(this.publish({...t,...e,id:i,title:a}),{...t,...e,id:i,dismissible:o,title:a}):t):this.addToast({title:a,...s,dismissible:o,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,a)=>{let r,s;if(!a)return;void 0!==a.loading&&(s=this.create({...a,promise:e,type:"loading",message:a.loading,description:"function"!=typeof a.description?a.description:void 0}));let n=Promise.resolve(e instanceof Function?e():e),o=void 0!==s,l=n.then(async e=>{if(r=["resolve",e],t.default.isValidElement(e))o=!1,this.create({id:s,type:"default",message:e});else if(i(e)&&!e.ok){o=!1;let r="function"==typeof a.error?await a.error(`HTTP error! status: ${e.status}`):a.error,i="function"==typeof a.description?await a.description(`HTTP error! status: ${e.status}`):a.description,n="object"!=typeof r||t.default.isValidElement(r)?{message:r}:r;this.create({id:s,type:"error",description:i,...n})}else if(e instanceof Error){o=!1;let r="function"==typeof a.error?await a.error(e):a.error,i="function"==typeof a.description?await a.description(e):a.description,n="object"!=typeof r||t.default.isValidElement(r)?{message:r}:r;this.create({id:s,type:"error",description:i,...n})}else if(void 0!==a.success){o=!1;let r="function"==typeof a.success?await a.success(e):a.success,i="function"==typeof a.description?await a.description(e):a.description,n="object"!=typeof r||t.default.isValidElement(r)?{message:r}:r;this.create({id:s,type:"success",description:i,...n})}}).catch(async e=>{if(r=["reject",e],void 0!==a.error){o=!1;let r="function"==typeof a.error?await a.error(e):a.error,i="function"==typeof a.description?await a.description(e):a.description,n="object"!=typeof r||t.default.isValidElement(r)?{message:r}:r;this.create({id:s,type:"error",description:i,...n})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),null==a.finally||a.finally.call(a)}),d=()=>new Promise((e,t)=>l.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof s&&"number"!=typeof s?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(e,t)=>{let a=(null==t?void 0:t.id)||r++;return this.create({jsx:e(a),id:a,...t}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},i=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,n=Object.assign((e,t)=>{let a=(null==t?void 0:t.id)||r++;return s.addToast({title:e,...t,id:a}),a},{success:s.success,info:s.info,warning:s.warning,error:s.error,custom:s.custom,message:s.message,promise:s.promise,dismiss:s.dismiss,loading:s.loading},{getHistory:()=>s.toasts,getToasts:()=>s.getActiveToasts()});!function(e){if(!e||"u"<typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");e.s(["toast",()=>n])},44141,e=>{"use strict";var t=e.i(66027),a=e.i(54616),r=e.i(12598),s=e.i(11795),i=e.i(57951);function n(){return(0,t.useQuery)({queryKey:["inventory-categories"],queryFn:async()=>{let{data:e,error:t}=await s.supabase.from("inventory_categories").select("*").order("name");if(t)throw t;return e}})}function o(e){let{user:a}=(0,i.useAuth)();return(0,t.useQuery)({queryKey:["inventory",e],queryFn:async()=>{try{let t=s.supabase.from("inventory_items").select(`
            *,
            category:inventory_categories(id, name)
          `).order("name");e?.categoryId&&(t=t.eq("category_id",e.categoryId)),e?.search&&(t=t.or(`name.ilike.%${e.search}%,sku.ilike.%${e.search}%`));let{data:a,error:r}=await t;if(r)throw console.error("[Supabase Query Error] fetching inventory_items:",r),r;let i=a;return e?.lowStock&&(i=i.filter(e=>(e.qty_available||0)-(e.qty_reserved||0)<(e.min_stock||0))),i}catch(e){throw console.error("[React Query Error] fetching inventory_items:",e),e}},enabled:!!a,staleTime:3e5})}function l(e){return(0,t.useQuery)({queryKey:["inventory",e],queryFn:async()=>{let{data:t,error:a}=await s.supabase.from("inventory_items").select(`
          *,
          category:inventory_categories(id, name)
        `).eq("id",e).single();if(a)throw a;return t},enabled:!!e})}function d(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let{data:t,error:a}=await s.supabase.from("inventory_items").insert({name:e.name,sku:e.sku,category_id:e.category_id,qty_available:e.qty_available||0,qty_reserved:0,min_stock:e.min_stock||0,purchase_price:e.purchase_price,sale_price:e.sale_price,notes:e.notes}).select().single();if(a)throw a;return t},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]})}})}function c(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async({id:e,...t})=>{let{data:a,error:r}=await s.supabase.from("inventory_items").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return a},onSuccess:t=>{e.invalidateQueries({queryKey:["inventory"]}),e.invalidateQueries({queryKey:["inventory",t.id]})}})}function m(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async({id:e,forceDelete:t=!1})=>{let{error:a}=await s.supabase.from("inventory_items").delete().eq("id",e);if(a)throw a},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]}),e.invalidateQueries({queryKey:["quotes"]}),e.invalidateQueries({queryKey:["invoices"]})}})}function p(){let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async({itemId:e,adjustment:t})=>{let{data:a,error:r}=await s.supabase.from("inventory_items").select("qty_available").eq("id",e).single();if(r)throw r;let i=Math.max(0,(a.qty_available||0)+t),{data:n,error:o}=await s.supabase.from("inventory_items").update({qty_available:i,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(o)throw o;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]})}})}e.s(["useAdjustStock",()=>p,"useCreateInventoryItem",()=>d,"useDeleteInventoryItem",()=>m,"useInventoryCategories",()=>n,"useInventoryItem",()=>l,"useInventoryItems",()=>o,"useUpdateInventoryItem",()=>c])},51975,e=>{"use strict";let t=(0,e.i(75254).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],51975)},48256,e=>{"use strict";let t=(0,e.i(75254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},46399,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(57951),i=e.i(11795),n=e.i(66027),o=e.i(12598),l=e.i(44141),d=e.i(46696),c=e.i(71689),m=e.i(45423),p=e.i(75254);let u=(0,p.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),h=(0,p.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var g=e.i(51975);let x=(0,p.default)("sliders-vertical",[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]]);var b=e.i(88844);let f=(0,p.default)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),y=(0,p.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),v=(0,p.default)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),k=(0,p.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),w=(0,p.default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),j=(0,p.default)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var N=e.i(48256),z=e.i(52008);function _({productId:e}){let{user:p}=(0,s.useAuth)(),_=(0,r.useRouter)(),q=(0,i.createClient)();(0,o.useQueryClient)();let[M,C]=(0,a.useState)("basic"),[T,S]=(0,a.useState)(!1),[P,I]=(0,a.useState)(null),[E,F]=(0,a.useState)(null),[Y,A]=(0,a.useState)({name:"",sku:"",category_id:"",sale_price:0,purchase_price:0,qty_available:0,min_stock:0,unit:"ks",notes:""}),{data:K=[]}=(0,n.useQuery)({queryKey:["inventory-categories"],queryFn:async()=>{let{data:e,error:t}=await q.from("inventory_categories").select("*").order("name");if(t)throw t;return e}}),{data:Q=[]}=(0,n.useQuery)({queryKey:["suppliers"],queryFn:async()=>{let{data:e,error:t}=await q.from("suppliers").select("*").order("name");if(t)throw t;return e}}),{data:H,isLoading:U,isError:O}=(0,l.useInventoryItem)(e);(0,a.useEffect)(()=>{H&&A(e=>!e.id&&H.id?H:e)},[H]);let V=(0,l.useUpdateInventoryItem)(),L=async e=>{let t=e.target.files?.[0];t&&(I(t),F(URL.createObjectURL(t)))},$=async t=>{t.preventDefault();try{S(!0);let t=Y.image_url;if(P){if(H?.image_url)try{let e=H.image_url.split("/products/");if(e.length>1){let t=e[1];await q.storage.from("products").remove([t])}}catch(e){console.error("Failed to delete old image",e)}let a=P.name.split(".").pop(),r=`${e}-${Date.now()}.${a}`,s=`images/${r}`,{error:i}=await q.storage.from("products").upload(s,P);if(i)throw i;let{data:n}=q.storage.from("products").getPublicUrl(s);t=n.publicUrl}let a={name:Y.name,sku:Y.sku,category_id:Y.category_id||null,qty_available:Y.qty_available,min_stock:Y.min_stock,purchase_price:Y.purchase_price,sale_price:Y.sale_price,notes:Y.notes,unit:Y.unit,image_url:t};await V.mutateAsync({id:e,...a}),d.toast.success("Zmeny boli úspešne uložené."),_.push("/app/stock")}catch(e){d.toast.error(`Chyba pri ukladan\xed: ${e.message}`)}finally{S(!1)}},B=(e,t)=>{A(a=>({...a,[e]:t}))};return U?(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display",children:(0,t.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-full border-2 border-primary border-t-transparent animate-spin mb-4"}),(0,t.jsx)("p",{className:"text-zinc-500 uppercase tracking-widest text-xs font-bold",children:"Načítavam produkt..."})]})}):O||!H?(0,t.jsx)("div",{className:"flex-1 flex flex-col h-screen overflow-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display selection:bg-primary selection:text-white",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-6xl text-red-500 mb-4",children:"error"}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Produkt nenájdený"}),(0,t.jsx)("button",{onClick:()=>_.push("/app/stock"),className:"px-6 py-2 bg-primary text-black font-bold uppercase tracking-wider text-xs",children:"Späť na Sklad"})]})}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col h-screen overflow-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display selection:bg-primary selection:text-white",children:[(0,t.jsxs)("header",{className:"h-16 flex-shrink-0 flex items-center justify-between border-b border-solid border-slate-200 dark:border-zinc-800 bg-background-light dark:bg-[#0a0a0a] px-6 lg:px-8 z-10 text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>_.push("/app/stock"),className:"text-zinc-500 hover:text-primary transition-colors flex items-center justify-center",children:(0,t.jsx)(c.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsx)("div",{className:"h-5 w-[1px] bg-slate-200 dark:bg-zinc-800"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{className:"text-sm font-bold uppercase tracking-wider text-slate-900 dark:text-white",children:"Upraviť produkt"}),(0,t.jsx)("span",{className:"text-[10px] text-zinc-500 font-mono",children:H.sku||H.id.substring(0,8).toUpperCase()})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("button",{className:"relative text-slate-500 dark:text-zinc-400 hover:text-primary transition-colors",children:[(0,t.jsx)(m.Bell,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"absolute -top-1 -right-1 block h-2.5 w-2.5 rounded-full bg-primary ring-2 ring-white dark:ring-[#0a0a0a]"})]})})]}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark p-6 lg:p-12 text-left",children:(0,t.jsxs)("form",{onSubmit:$,className:"max-w-5xl mx-auto w-full",children:[(0,t.jsxs)("div",{className:"mb-10 flex flex-col lg:flex-row lg:items-end justify-between gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2 leading-tight",children:H.name}),(0,t.jsx)("p",{className:"text-slate-500 dark:text-zinc-400",children:"Upravte informácie, ceny a špecifikácie produktu."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[(0,t.jsx)("span",{className:"text-xs text-zinc-500 mr-2",children:"Posledná úprava: dnes"}),(0,t.jsxs)("button",{type:"submit",disabled:V.isPending||T,className:"px-6 py-3 bg-primary text-black font-bold uppercase tracking-wider text-xs hover:bg-primary-hover transition-colors shadow-[0_0_15px_rgba(255,102,0,0.2)] disabled:opacity-50 flex items-center gap-2",children:[V.isPending||T?"Ukladám...":"ULOŽIŤ ZMENY",(0,t.jsx)(u,{className:"w-4 h-4 ml-1"})]})]})]}),(0,t.jsx)("div",{className:"border-b border-zinc-200 dark:border-zinc-800 mb-8 overflow-x-auto",children:(0,t.jsxs)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>C("basic"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${"basic"===M?"border-primary text-primary font-bold shadow-[0_1px_0_0_#ff6600]":"border-transparent text-slate-500 dark:text-zinc-400 hover:text-slate-700 dark:hover:text-zinc-300 hover:border-zinc-300"}`,children:[(0,t.jsx)(h,{className:"w-4 h-4"}),"Základné info"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>C("pricing"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${"pricing"===M?"border-primary text-primary font-bold shadow-[0_1px_0_0_#ff6600]":"border-transparent text-slate-500 dark:text-zinc-400 hover:text-slate-700 dark:hover:text-zinc-300 hover:border-zinc-300"}`,children:[(0,t.jsx)(g.Tag,{className:"w-4 h-4"}),"Cenotvorba"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>C("specs"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${"specs"===M?"border-primary text-primary font-bold shadow-[0_1px_0_0_#ff6600]":"border-transparent text-slate-500 dark:text-zinc-400 hover:text-slate-700 dark:hover:text-zinc-300 hover:border-zinc-300"}`,children:[(0,t.jsx)(x,{className:"w-4 h-4"}),"Technické špecifikácie"]})]})}),"basic"===M&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-2",children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-[#0a0a0a] border border-slate-200 dark:border-zinc-800 border-t-2 border-t-primary/50 p-8 shadow-sm h-full relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none rotate-12",children:(0,t.jsx)(b.Package,{className:"w-32 h-32 text-primary"})}),(0,t.jsxs)("h3",{className:"text-lg font-bold uppercase tracking-wider text-slate-900 dark:text-white mb-6 flex items-center gap-3 relative z-10",children:[(0,t.jsx)(b.Package,{className:"w-5 h-5 text-primary"}),"Hlavné údaje"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Názov produktu *"}),(0,t.jsx)("input",{type:"text",required:!0,value:Y.name||"",onChange:e=>B("name",e.target.value),className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"SKU Kód"}),(0,t.jsx)("input",{type:"text",value:Y.sku||"",onChange:e=>B("sku",e.target.value),className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm font-mono"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Jednotka"}),(0,t.jsxs)("select",{value:Y.unit||"ks",onChange:e=>B("unit",e.target.value),className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm",children:[(0,t.jsx)("option",{value:"ks",children:"Slab (ks)"}),(0,t.jsx)("option",{value:"m2",children:"m²"}),(0,t.jsx)("option",{value:"bm",children:"Bežný meter (bm)"})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Kategória"}),(0,t.jsxs)("select",{value:Y.category_id||"",onChange:e=>B("category_id",e.target.value),className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Nevybraná"}),K.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Krátky popis / Poznámka"}),(0,t.jsx)("textarea",{rows:4,value:Y.notes||"",onChange:e=>B("notes",e.target.value),className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm resize-none"})]})})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-[#0a0a0a] border border-slate-200 dark:border-zinc-800 border-t-2 border-t-amber-500/50 p-8 shadow-sm relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none -rotate-12",children:(0,t.jsx)(f,{className:"w-32 h-32 text-amber-500"})}),(0,t.jsxs)("h3",{className:"text-lg font-bold uppercase tracking-wider text-slate-900 dark:text-white mb-6 flex items-center gap-3 relative z-10",children:[(0,t.jsx)(f,{className:"w-5 h-5 text-amber-500"}),"Skladové informácie"]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:["Aktuálny stav (",Y.unit,")"]}),(0,t.jsx)("input",{type:"number",value:Y.qty_available||0,onChange:e=>B("qty_available",parseFloat(e.target.value)),className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm font-mono"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:["Min. zásoba (",Y.unit,")"]}),(0,t.jsx)("input",{type:"number",value:Y.min_stock||0,onChange:e=>B("min_stock",parseFloat(e.target.value)),className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm font-mono"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-[#0a0a0a] border border-slate-200 dark:border-zinc-800 border-t-2 border-t-primary/50 p-8 shadow-sm relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none rotate-12",children:(0,t.jsx)(y,{className:"w-32 h-32 text-primary"})}),(0,t.jsxs)("h3",{className:"text-lg font-bold uppercase tracking-wider text-slate-900 dark:text-white mb-6 flex items-center gap-3 relative z-10",children:[(0,t.jsx)(y,{className:"w-5 h-5 text-primary"}),"Prezentácia"]}),(0,t.jsxs)("label",{className:"flex flex-col justify-center items-center p-8 border-2 border-dashed border-slate-200 dark:border-zinc-700 bg-slate-50 dark:bg-zinc-900 text-center hover:bg-slate-100 dark:hover:bg-zinc-800 transition-colors cursor-pointer group relative overflow-hidden min-h-[200px] z-10",children:[E||Y.image_url?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:E||Y.image_url||"",alt:"Náhľad",className:"absolute inset-0 w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsxs)("span",{className:"text-white font-medium flex items-center gap-2",children:[(0,t.jsx)(k,{className:"w-4 h-4"}),"Zmeniť fotku"]})})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center z-10 select-none",children:[(0,t.jsx)(v,{className:"w-10 h-10 mb-3 text-zinc-400 group-hover:text-primary transition-colors"}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:T?"Nahrávam obrázok...":"Kliknite pre nahratie obrázka"}),(0,t.jsx)("span",{className:"text-xs text-zinc-500 mt-1",children:"PNG, JPG do 5MB"})]}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:L,disabled:V.isPending||T})]})]})]})]}),"pricing"===M&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-2",children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-[#0a0a0a] border border-slate-200 dark:border-zinc-800 border-t-2 border-t-primary/50 p-8 shadow-sm h-full relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none rotate-12",children:(0,t.jsx)(g.Tag,{className:"w-32 h-32 text-primary"})}),(0,t.jsxs)("h3",{className:"text-lg font-bold uppercase tracking-wider text-slate-900 dark:text-white mb-6 flex items-center gap-3 relative z-10",children:[(0,t.jsx)(g.Tag,{className:"w-5 h-5 text-primary"}),"Predajné Ceny"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2 flex justify-between",children:[(0,t.jsx)("span",{children:"Predajná cena (B2C)"}),(0,t.jsx)("span",{className:"text-primary tracking-widest",children:"VRÁTANE DPH"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 font-bold",children:"€"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:null!==Y.sale_price&&void 0!==Y.sale_price?1.2*Y.sale_price:"",onChange:e=>B("sale_price",parseFloat(e.target.value)/1.2),className:"block w-full border-0 py-4 pl-10 pr-4 text-lg font-bold text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary font-mono shadow-[inset_0_2px_4px_rgba(0,0,0,0.1)]"})]})]}),(0,t.jsx)("div",{className:"h-[1px] w-full bg-slate-100 dark:bg-zinc-800 my-4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2 flex justify-between",children:(0,t.jsx)("span",{children:"Základná predajná cena (BEZ DPH)"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"€"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:Y.sale_price||"",onChange:e=>B("sale_price",parseFloat(e.target.value)),className:"block w-full border-0 py-3 pl-10 pr-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm font-mono opacity-80"})]})]})]})]})}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-[#0a0a0a] border border-slate-200 dark:border-zinc-800 border-t-2 border-t-amber-500/50 p-8 shadow-sm relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none -rotate-12",children:(0,t.jsx)(w,{className:"w-32 h-32 text-amber-500"})}),(0,t.jsxs)("h3",{className:"text-lg font-bold uppercase tracking-wider text-slate-900 dark:text-white mb-6 flex items-center gap-3 relative z-10",children:[(0,t.jsx)(w,{className:"w-5 h-5 text-amber-500"}),"Nákupná cena"]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Nákupná cena od dodávateľa"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"€"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:Y.purchase_price||"",onChange:e=>B("purchase_price",parseFloat(e.target.value)),className:"block w-full border-0 py-3 pl-10 pr-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm font-mono text-zinc-400 dark:text-zinc-500 focus:text-white transition-colors"})]}),(0,t.jsx)("p",{className:"mt-2 text-[10px] text-zinc-500 uppercase tracking-widest",children:"Tento údaj je interný a nebude viditeľný na faktúrach klienta."})]})})]})})]}),"specs"===M&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-2",children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-[#0a0a0a] border border-slate-200 dark:border-zinc-800 border-t-2 border-t-primary/50 p-8 shadow-sm h-full relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none rotate-12",children:(0,t.jsx)(j,{className:"w-32 h-32 text-primary"})}),(0,t.jsxs)("h3",{className:"text-lg font-bold uppercase tracking-wider text-slate-900 dark:text-white mb-6 flex items-center gap-3 relative z-10",children:[(0,t.jsx)(j,{className:"w-5 h-5 text-primary"}),"Fyzikálne vlastnosti"]}),(0,t.jsxs)("div",{className:"space-y-6 opacity-60 pointer-events-none relative z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Pôvod materiálu"}),(0,t.jsxs)("div",{className:"relative flex items-center",children:[(0,t.jsx)(N.Globe,{className:"absolute left-3 w-5 h-5 text-zinc-500"}),(0,t.jsx)("input",{className:"block w-full border-0 py-3 pl-10 pr-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 placeholder:text-zinc-400",placeholder:"e.g. Taliansko",type:"text",value:"Taliansko",readOnly:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Typ kameňa"}),(0,t.jsx)("input",{className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700",type:"text",value:"Metamorfná hornina",readOnly:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Rozmery (cm)"}),(0,t.jsx)("input",{className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 placeholder:text-zinc-400",placeholder:"280x160",type:"text",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Hrúbka (mm)"}),(0,t.jsx)("input",{className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 placeholder:text-zinc-400",placeholder:"20",type:"number",readOnly:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-2",children:"Hmotnosť (kg/m²)"}),(0,t.jsx)("input",{className:"block w-full border-0 py-3 px-4 text-slate-900 dark:text-white bg-slate-50 dark:bg-zinc-900 ring-1 ring-inset ring-slate-200 dark:ring-zinc-700 placeholder:text-zinc-400",placeholder:"55",type:"number",readOnly:!0})]}),(0,t.jsx)("div",{className:"text-xs text-primary mt-4 font-bold uppercase tracking-widest text-center py-2 bg-primary/10 border border-primary/20",children:"Modul vo vývoji"})]})]})}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-[#0a0a0a] border border-slate-200 dark:border-zinc-800 border-t-2 border-t-amber-500/50 p-8 shadow-sm relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none -rotate-12",children:(0,t.jsx)(z.Layers,{className:"w-32 h-32 text-amber-500"})}),(0,t.jsxs)("h3",{className:"text-lg font-bold uppercase tracking-wider text-slate-900 dark:text-white mb-6 flex items-center gap-3 relative z-10",children:[(0,t.jsx)(z.Layers,{className:"w-5 h-5 text-amber-500"}),"Povrch a odolnosť"]}),(0,t.jsx)("div",{className:"space-y-6 opacity-60 pointer-events-none",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-zinc-400 mb-3",children:"Povrchová úprava"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"relative flex items-start",children:[(0,t.jsx)("div",{className:"flex h-6 items-center",children:(0,t.jsx)("input",{checked:!0,className:"h-4 w-4 rounded border-zinc-700 text-primary bg-zinc-900",type:"checkbox",readOnly:!0})}),(0,t.jsx)("div",{className:"ml-3 text-sm leading-6",children:(0,t.jsx)("label",{className:"font-medium text-slate-900 dark:text-white",children:"Leštený"})})]}),(0,t.jsxs)("div",{className:"relative flex items-start",children:[(0,t.jsx)("div",{className:"flex h-6 items-center",children:(0,t.jsx)("input",{checked:!0,className:"h-4 w-4 rounded border-zinc-700 text-primary bg-zinc-900",type:"checkbox",readOnly:!0})}),(0,t.jsx)("div",{className:"ml-3 text-sm leading-6",children:(0,t.jsx)("label",{className:"font-medium text-slate-900 dark:text-white",children:"Matný"})})]})]})]})})]})})]})]})})]})}e.s(["EditProductClientView",()=>_],46399)}]);